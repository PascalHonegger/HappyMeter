<div class="statistics-container" fxLayout="column" fxLayoutGap="20px">
  <div fxLayout.gt-sm="row" fxLayout.lt-md="column" fxLayoutGap="10px">
    <mat-form-field fxFlex>
        <input matInput [matDatepicker]="fromDatePicker" placeholder="Von"
              [(ngModel)]="fromDate" disabled>
      <mat-datepicker-toggle matSuffix [for]="fromDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #fromDatePicker disabled="false"></mat-datepicker>
    </mat-form-field>
    <mat-form-field fxFlex>
      <input matInput [matDatepicker]="toDatePicker" placeholder="Bis"
              [(ngModel)]="toDate" disabled>
      <mat-datepicker-toggle matSuffix [for]="toDatePicker"></mat-datepicker-toggle>
      <mat-datepicker #toDatePicker disabled="false"></mat-datepicker>
    </mat-form-field>
    <button fxFlex mat-raised-button (click)="tryRefreshChart()">Aktualisieren</button>
  </div>
  <div [style.height.px]="350">
    <ngx-charts-bar-vertical-2d *ngIf="chartData"
      [results]="chartData"
      [xAxis]="true"
      [yAxis]="true"
      [legend]="false"
      [showXAxisLabel]="true"
      [showYAxisLabel]="true"
      xAxisLabel="Datum"
      yAxisLabel="Personen">
      <ng-template #tooltipTemplate let-model="model">
        <h1 class="emoji-tooltip">
          <emoji-display [emojiCodePoint]="getCode(model.name)"></emoji-display>
        </h1>
        <h2>
          {{model.value}}
        </h2>
      </ng-template>
    </ngx-charts-bar-vertical-2d>
  </div>
  <comment-list *ngIf="comments" [fullDate]="true" [comments]="comments"></comment-list>
</div>